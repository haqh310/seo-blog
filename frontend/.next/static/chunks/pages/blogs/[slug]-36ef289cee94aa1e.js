(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{4406:function(e){var t,n,o,r=e.exports={};function c(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===c||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(o){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:c}catch(e){t=c}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(o){n=s}}();var a=[],l=!1,u=-1;function d(){l&&o&&(l=!1,o.length?a=o.concat(a):u=-1,a.length&&h())}function h(){if(!l){var e=i(d);l=!0;for(var t=a.length;t;){for(o=a,a=[];++u<t;)o&&o[u].run();u=-1,t=a.length}o=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(o){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new p(e,t)),1!==a.length||l||i(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}},6438:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/[slug]",function(){return n(7623)}])},9110:function(e,t,n){"use strict";n.d(t,{$D:function(){return j},IU:function(){return a},Nq:function(){return x},YR:function(){return f},_y:function(){return i},c0:function(){return y},ej:function(){return p},gF:function(){return b},uf:function(){return u},xJ:function(){return l}});var o=n(9307),r=n.n(o),c=n(1805),s=n(3346);let i=e=>{401===e.status&&u(()=>{Router.push({pathname:"/signin",query:{message:"Your session is expired. Please signin"}})})},a=e=>r()("".concat(s.bl,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(e=>console.log(e)),l=e=>r()("".concat(s.bl,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(e=>console.log(e)),u=e=>(h("token"),g("user"),e(),r()("".concat(s.bl,"/signout"),{method:"GET"}).then(e=>{console.log("signout success")}).catch(e=>console.log(e))),d=(e,t)=>{c.Z.set(e,t,{expires:1})},h=(e,t)=>{c.Z.remove(e,{expires:1})},p=e=>c.Z.get(e),m=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},g=e=>{localStorage.removeItem(e)},f=(e,t)=>{d("token",e.token),m("user",e.user),t()},j=()=>{{let e=p("token");if(e)return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))}},x=(e,t)=>{if(localStorage.getItem("user")){let n=JSON.parse(localStorage.getItem("user"));n=e,localStorage.setItem("user",JSON.stringify(n)),t()}},b=e=>r()("".concat(s.bl,"/forgot-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(e=>console.log(e)),y=e=>r()("".concat(s.bl,"/reset-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(e=>console.log(e))},448:function(e,t,n){"use strict";n.d(t,{Ch:function(){return u},FH:function(){return l},T7:function(){return p},Vh:function(){return a},W1:function(){return d},mx:function(){return g},pb:function(){return h},zZ:function(){return m}});var o=n(9307),r=n.n(o),c=n(7563),s=n(3346),i=n(9110);let a=(e,t)=>{let n;return(0,i.$D)()&&1===(0,i.$D)().role?n="".concat(s.bl,"/blog"):(0,i.$D)()&&0===(0,i.$D)().role&&(n="".concat(s.bl,"/user/blog")),r()("".concat(n),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:e}).then(e=>(console.log(e),(0,i._y)(e),e.json())).catch(e=>console.log(e))},l=(e,t)=>fetch("".concat(s.bl,"/blogs-categories-tags"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({limit:t,skip:e})}).then(e=>e.json()).catch(e=>console.log(e)),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return r()("".concat(s.bl,"/blog/").concat(e),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e))},d=e=>r()("".concat(s.bl,"/blogs/related"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(e=>console.log(e)),h=e=>{let t;return t=e?"".concat(s.bl,"/").concat(e,"/blogs"):"".concat(s.bl,"/blogs"),r()("".concat(t),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e))},p=(e,t)=>{let n;let o=(0,i.$D)();return o&&(n=1===o.role?"".concat(s.bl,"/blog/").concat(e):"".concat(s.bl,"/user/blog/").concat(e)),r()("".concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>((0,i._y)(e),e.json())).catch(e=>console.log(e))},m=(e,t,n)=>{let o;let c=(0,i.$D)();return c&&(o=1===c.role?"".concat(s.bl,"/blog/").concat(n):"".concat(s.bl,"/user/blog/").concat(n)),r()("".concat(o),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then(e=>((0,i._y)(e),e.json())).catch(e=>console.log(e))},g=e=>{console.log("search param ",e);let t=c.stringify(e);return console.log("query param ",e),r()("".concat(s.bl,"/blogs/search?").concat(t),{method:"GET"}).then(e=>e.json()).catch(e=>console.log(e))}},4592:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var o=n(5893),r=n(7294),c=n(4865),s=n.n(c),i=n(3346),a=n(9110),l=n(450),u=n(1163),d=n.n(u),h=n(1664),p=n.n(h);n(2252);var m=n(448);let g=()=>{let[e,t]=(0,r.useState)({search:void 0,results:[],searched:!1,message:""}),{search:n,results:c,searched:s,message:i}=e,a=o=>{o.preventDefault(),(0,m.mx)({search:n}).then(n=>{n.error?console.log(n.error):t({...e,results:n,searched:!0,message:"".concat(n.length," blogs found.")})})},l=n=>{t({...e,search:n.target.value,searched:!1,results:[]})};return(0,o.jsxs)("div",{className:"container-fluid",children:[(0,o.jsx)("div",{className:"pt-3 pb-5",children:(0,o.jsx)("form",{onSubmit:a,children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-9",children:(0,o.jsx)("input",{type:"search",className:"form-control",placeholder:"Search blogs",onChange:l})}),(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsx)("button",{className:"btn btn-block btn-outline-primary",type:"submit",children:"Search"})})]})})}),s&&(0,o.jsx)("div",{style:{marginTop:"-120px",marginBottom:"-80px"},children:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,o.jsxs)("div",{className:"jumbotron bg-white",children:[i&&(0,o.jsx)("p",{className:"pt-4 text-muted font-italic",children:i}),e.map((e,t)=>(0,o.jsx)("div",{children:(0,o.jsx)(p(),{href:"/blogs/".concat(e.slug),className:"text-primary",children:e.title})},t))]})}(c)})]})};d().onRouteChangeStart=e=>s().start(),d().onRouteChangeComplete=e=>s().done(),d().onRouteChangeError=e=>s().done();let f=()=>{let[e,t]=(0,r.useState)(!1),[n,c]=(0,r.useState)(),s=()=>t(!e);return(0,r.useEffect)(()=>{c((0,a.$D)())},[]),(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)(l.wp,{color:"light",light:!0,expand:"md",className:"px-0",children:[(0,o.jsx)(l.OL,{href:"/",className:"font-weight-bold text-dark",children:i.iC}),(0,o.jsx)(l.WR,{onClick:s}),(0,o.jsx)(l.UO,{isOpen:e,navbar:!0,children:(0,o.jsxs)(l.JL,{className:"ml-auto",navbar:!0,children:[(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(l.LY,{children:(0,o.jsx)(l.OL,{href:"/blogs",children:"Blog"})}),(0,o.jsx)(l.LY,{children:(0,o.jsx)(l.OL,{href:"/contact",children:"Contact"})})]}),n?0===n.role?(0,o.jsx)(l.LY,{children:(0,o.jsx)(l.OL,{href:"/user",children:"".concat(n.name,"'s Dashboard")})}):(0,o.jsx)(l.LY,{children:(0,o.jsx)(l.OL,{href:"/admin",children:"".concat(n.name,"'s Dashboard")})}):(0,o.jsx)(l.LY,{children:(0,o.jsx)(l.OL,{href:"/signin",children:"Signin"})}),n&&(0,o.jsx)(l.LY,{children:(0,o.jsx)(l.OL,{style:{cursor:"pointer"},onClick:()=>(0,a.uf)(()=>d().replace("/signin")),children:"Signout"})}),(0,o.jsx)(l.LY,{children:(0,o.jsx)(p(),{href:{pathname:"/user/crud/blog"},className:"btn btn-primary text-light",children:"Write a blog"})})]})})]}),(0,o.jsx)(g,{})]})},j=e=>{let{children:t}=e;return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(f,{}),t]})};var x=j},3346:function(e,t,n){"use strict";n.d(t,{CT:function(){return u},bl:function(){return i},f6:function(){return l},iC:function(){return s},yK:function(){return a}});var o=n(1752),r=n.n(o);let{publicRuntimeConfig:c}=r()(),s=c.APP_NAME?c.APP_NAME:"SEOBLOG",i=c.PRODUCTION?c.API_PRODUCTION:c.API_DEVELOPMENT,a=c.PRODUCTION?c.DOMAIN_PRODUCTION:c.DOMAIN_DEVELOPMENT,l=c.FB_APP_ID,u=c.DISQUS_SHORTNAME},7623:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,r,c,s,i=n(5893),a=n(381),l=n.n(a),u=n(9008),d=n.n(u),h=n(1664),p=n.n(h),m=n(7294),g=n(448),f=n(3346);let j=e=>{let{blog:t}=e;return(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("section",{children:(0,i.jsx)(p(),{href:"/blogs/".concat(t.slug),children:(0,i.jsx)("img",{className:"img imf-fluid",style:{height:"250px",width:"100%"},src:"".concat(f.bl,"/blog/photo/").concat(t.slug),alt:t.title})})}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("section",{children:[(0,i.jsx)(p(),{href:"/blogs/".concat(t.slug),children:(0,i.jsx)("h5",{className:"card-title",children:t.title})}),(0,i.jsx)("div",{className:"card-text",dangerouslySetInnerHTML:{__html:t.excerpt}})]})}),(0,i.jsxs)("div",{className:"card-body",children:["Posted ",l()(t.updatedAt).fromNow()," by"," ",(0,i.jsx)(p(),{href:"/profile/".concat(t.postedBy.username),children:t.postedBy.name})]})]})};var x=n(4592),b=n(5697),y=n.n(b),N=n(4406);let v=f.CT,T=f.yK;function O(){if(void 0===window.DISQUS){var e=document.createElement("script");e.async=!0,e.src="https://"+v+".disqus.com/embed.js",document.getElementsByTagName("head")[0].appendChild(e)}else window.DISQUS.reset({reload:!0})}class S extends(s=m.Component){shouldComponentUpdate(e){return this.props.id!==e.id||this.props.title!==e.title||this.props.path!==e.path}componentDidMount(){O()}componentDidUpdate(){O()}render(){let{id:e,title:t,path:n,...o}=this.props;return N.env.BROWSER&&(window.disqus_shortname=v,window.disqus_identifier=e,window.disqus_title=t,window.disqus_url=T+n),(0,i.jsx)("div",{...o,id:"disqus_thread"})}}o=S,r="propTypes",c={id:y().string.isRequired,title:y().string.isRequired,path:y().string.isRequired},r in o?Object.defineProperty(o,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[r]=c;let w=e=>{let{blog:t,query:n}=e,[o,r]=(0,m.useState)([]),c=()=>{(0,g.W1)({blog:t}).then(e=>{e.error?console.log(e.error):r(e)})};return(0,m.useEffect)(()=>{c()},[]),(0,i.jsxs)(m.Fragment,{children:[(0,i.jsxs)(d(),{children:[(0,i.jsxs)("title",{children:[t.title," | ",f.iC]}),(0,i.jsx)("meta",{name:"description",content:t.mdesc}),(0,i.jsx)("link",{rel:"canonical",href:"".concat(f.yK,"/blogs/").concat(n.slug)}),(0,i.jsx)("meta",{property:"og:title",content:"".concat(t.title,"| ").concat(f.iC)}),(0,i.jsx)("meta",{property:"og:description",content:t.mdesc}),(0,i.jsx)("meta",{property:"og:type",content:"webiste"}),(0,i.jsx)("meta",{property:"og:url",content:"".concat(f.yK,"/blogs/").concat(n.slug)}),(0,i.jsx)("meta",{property:"og:site_name",content:"".concat(f.iC)}),(0,i.jsx)("meta",{property:"og:image",content:"".concat(f.bl,"/blog/photo/").concat(t.slug)}),(0,i.jsx)("meta",{property:"og:image:secure_url",ccontent:"".concat(f.bl,"/blog/photo/").concat(t.slug)}),(0,i.jsx)("meta",{property:"og:image:type",content:"image/jpg"}),(0,i.jsx)("meta",{property:"fb:app_id",content:"".concat(f.f6)})]}),(0,i.jsx)(x.Z,{children:(0,i.jsx)("main",{children:(0,i.jsxs)("article",{children:[(0,i.jsxs)("div",{className:"container-fluid",children:[(0,i.jsx)("section",{children:(0,i.jsx)("div",{className:"row",style:{marginTop:"-30px"},children:(0,i.jsx)("img",{src:"".concat(f.bl,"/blog/photo/").concat(t.slug),alt:t.title,className:"img img-fluid featured-image"})})}),(0,i.jsx)("section",{children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h4",{className:"display-2 pb-3 pt-3 text-center font-weight-bold",children:t.title}),(0,i.jsxs)("p",{className:"lead mt-3 mark",children:["Written by "," ",(0,i.jsx)(p(),{href:"profile/".concat(t.postedBy.username),children:t.postedBy.name})," ","| Published ",l()(t.updatedAt).fromNow()]}),(0,i.jsxs)("div",{className:"pb-3",children:[t.categories.map((e,t)=>(0,i.jsx)(p(),{href:"/categories/".concat(e.slug),className:"btn btn-primary mr-1 ml-1 mt-3",children:e.name},t)),t.tags.map((e,t)=>(0,i.jsx)(p(),{href:"/tags/".concat(e.slug),className:"btn btn-outline-primary mr-1 ml-1 mt-3",children:e.name},t)),(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]})]})})]}),(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("section",{children:(0,i.jsx)("div",{className:"col-md-12 lead",dangerouslySetInnerHTML:{__html:t.body}})})}),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h4",{className:"text-center pt-5 pb-5 h2",children:"Related blogs"}),(0,i.jsx)("div",{className:"row",children:o.map((e,t)=>(0,i.jsx)("div",{className:"col-md-4",children:(0,i.jsx)("article",{children:(0,i.jsx)(j,{blog:e})})},t))})]}),(0,i.jsx)("div",{className:"container pt-5 pb-5",children:(0,i.jsx)("div",{children:(0,i.jsx)(S,{id:t._id,title:t.title,path:"/blog/".concat(t.slug)})})})]})})})]})};w.getInitialProps=e=>{let{query:t}=e;return(0,g.Ch)(t.slug).then(e=>{if(!e.error)return{blog:e,query:t};console.log(e.error)})};var _=w},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[260,885,928,774,888,179],function(){return e(e.s=6438)}),_N_E=e.O()}]);